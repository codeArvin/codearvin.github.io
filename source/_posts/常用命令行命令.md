---
title: 常用命令行命令
date: 2017-05-11 10:42:32
tags: [命令行]
keywords: [命令行]
categories: 学习记录
description: 记录经常使用或有用的的命令行命令
toc: true
---

# 一、Heroku
## 1. 在heroku上部署app
* 对项目文件夹设置git
* 运行heroku create <appname>
* 把项目推送至heroku远端 git push heroku master
* 保证项目文件夹内包含以下文件：
  *  **.gitignore** 目前填写 node_modules npm-debug.log
  *  **.env**
  *  **Procfile**  填写项目运行需启动的文件，目前我应该写web: node index.js
  * **README.md**
## 2. heroku命令
* **heroku login**： 登陆
* **heroku create**： 创建app，同时一个git remote（heroku)被创建
* **heroku create [appname]** 创建名为appname的app，同时一个git remote（heroku）被创建
* **heroku ps:scale web=1**： 运行app
* **heroku open**： 在浏览器打开app网址
* **heroku local**： 本地运行app
* **heroku logs**： 显示日志
* **heroku ps:scale web=[num] - -app [appname]**： 运行指定的app

# 二、Git
## 1. 新建代码库
* **git init**：初始化一个git仓库
## 2. 添加/删除文件
* **git add [file]**：添加文件至暂存区
* **git add .**：添加当前目录所有文件至暂存区
## 3. 代码提交
* **git commit -m [message]**：提交暂存区到仓库区
## 4. 分支
* **git branch**：列出所有本地分支
* **git branch -r**：列出所有远程分支
* **git branch -a**：列出所有本地和远程分支
* **git branch [branch-name]**：新建分支但留在当前分支
* **git checkout -b [branch-name]**：新建分支并切换到该分支
* **git merge [branch]**：合并指定分支到当前分支
* **git branch -d [branch-name]**：删除分支
* **git branch -dr [remote/branch]**：删除远程分支
* **git branch -vv**: 查看本地分支以及其关联的远程分支
* **git branch --set-upstream-to <local-branch> <remote-branch>**: 为某一本地分支设置其远程分支关联
## 5. 查看信息
* **git status**：显示有变更的文件
* **git log**：显示当前分支的版本历史
* **git diff**：显示暂存区和工作区的区别
* **git log --pretty=oneline \<filename\>**: 查看一个文件的提交记录
* **git show \<hashcode\> \<filename\>**: 查看某个文件在某次提交的修改
* **git diff \<hashcode-before-right\> \<hashcode\> \<filename\>**: 查看某个文件两个版本之间的差异
## 6. 远程同步
* **git remote -v**：显示所有远程仓库
* **git remote add [name] [url]**：新建一个远程仓库并命名
* **git push [remote] [branch]**：上传本地分支至远程仓库
* **git push [remote] [local_branch]:[remote_branch]**：上传本地分支至远程仓库分支
## 7. 其他
* **Linux下为git设置SSH**：
  1、本地生成密匙对：一般密匙储存在`~/.ssh`目录下，如果没有用命令`ssh-keygen -t rsa -C "your_email@youremail.com"`
  2、添加公钥到github账户，在 github SSH Keys 页面添加，添加你的公钥内容。用命令`ssh -T git@gituhb.com`来验证这个key是否工作正常，正常则返回`Hi username! You've successfully authenticated, but GitHub does not # provide shell access.`
  3、修改本地ssh remote url 为git协议，用`git remote set-url <remote_name> <url>`来切换协议。
  4、OK
* **git checkout .**: 撤销暂存区所有未提交的更改至工作区

# 三、 npm
* **npm list -g --depth 0**：列出全局环境下安装的包
* **npm subtree push --prefix=dist github gh-pages**：把仓库子文件dist推送至远端仓库github的gh-pages分支
* **yeoman命令**
  * `npm install -g yo`：yeoman项目结构生成器
  * `npm install -g generator-react-webpack`：安装项目生成器
  * 启动项目时候访问`localhost:8000/webpack-dev-server`体验更好，会有提示
* `npm ls -g --depth=1 2>/dev/null | grep generator-`：查看本地generator版本，在window中运行没有出结果，我运行的是`npm ls -g --depth=0 | grep generator-`
  * `npm ls -g --depth=1`：列出全局npm包，限制树状结构最多向下展示一层
  * `2>/dev/null`：在bash中，`>`表示重定向，1表示标准输出，2表示标准错误，`/dev/null`表示空设备文件。如果前面命令出现错误，将错误重定向到空设备文件，即不显示在控制台上
  * `|`：表示通道，用来将上一个命令的输出内容作为下个命令的输入内容
  * `grep generator-`：在前面的输出中检索generator-开头的内容

# 四、 命令行
* **msiexec /i {the msi path}**：以管理员身份运行msi文件
